<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Chris Goff â€” The Age of Intelligence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Unlock the transformative power of AI, generative technology, and intelligent agents. Connect with likeâ€‘minded professionals to explore practical, realâ€‘world AI use cases." />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0A0F1F" />
  <meta property="og:title" content="Chris Goff â€” The Age of Intelligence" />
  <meta property="og:description" content="Exploring practical AI with likeâ€‘minded hobbyists â€” demos, ideas, and agentic experiments." />
  <link rel="icon" href="assets/favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" />
  <link rel="canonical" href="https://www.chrisgoff.com/" />
  <style>
    :root{
      --bg:#0A0F1F; --bg2:#0C1326;
      --text:#F5F7FA; --muted:#B9C3D1; --muted2:#93A0B2;
      --cyan:#0FF0FC; --orange:#FF9A3C; --magenta:#FF5E87;
      --border:#1A2542; --focus:#8EEBFF;
      --card:#0E152B; --card2:#101937;
      --radius:16px; --shadow:0 14px 38px rgba(0,0,0,.45);
      --container:1180px;
      --space-xl:clamp(48px,8vw,96px);
      --space-lg:clamp(36px,6vw,72px);
      --space-md:clamp(20px,3.6vw,32px);
      --space-sm:clamp(12px,2.4vw,20px);
      --btn-py:12px; --btn-px:18px; --btn-fz:16px;
      --fx-opacity:.6; --fx-mix:normal;
      --band-grad1: radial-gradient(1200px 800px at 70% -10%, rgba(15,240,252,.07), transparent 60%);
      --band-grad2: radial-gradient(900px 700px at 10% 10%, rgba(255,154,60,.055), transparent 60%);
      --glow-cyan: 0 0 18px rgba(15,240,252,.35);
    }
    :root[data-theme="light"]{
      --bg:#F7FAFF; --bg2:#FFFFFF;
      --text:#0B1220; --muted:#5A6573; --muted2:#7A8698;
      --cyan:#06B6D4; --orange:#FFB35C; --magenta:#FF6A8C;
      --border:#E2E8F0; --focus:#3DD9F0;
      --card:#FFFFFF; --card2:#FAFCFF;
      --shadow:0 14px 38px rgba(15,23,42,.10);
      --fx-opacity:.5; --fx-mix:multiply;
      --band-grad1: radial-gradient(1200px 800px at 70% -10%, rgba(6,182,212,.12), transparent 60%);
      --band-grad2: radial-gradient(900px 700px at 10% 10%, rgba(255,179,92,.10), transparent 60%);
      --glow-cyan: 0 0 14px rgba(6,182,212,.35);
    }
    * { box-sizing: border-box }
    html, body { height:100% }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--band-grad1), var(--band-grad2), var(--bg);
      color:var(--text); line-height:1.55;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      transition: background-color .25s ease, color .25s ease;
      -webkit-tap-highlight-color: transparent;
    }
    a { color: var(--cyan); text-decoration: none }
    a:hover { text-decoration: underline }
    .container { width: min(92vw, var(--container)); margin: 0 auto }
    header{
      position: sticky; top: 0; z-index: 10;
      background: linear-gradient(to bottom, rgba(10,15,31,.85), rgba(10,15,31,.35), transparent);
      backdrop-filter: blur(8px);
    }
    :root[data-theme="light"] header{
      background: linear-gradient(to bottom, rgba(247,250,255,.95), rgba(247,250,255,.65), transparent);
      border-bottom: 1px solid rgba(226,232,240,.6);
    }
    .nav{ display:flex; align-items:center; justify-content:space-between; padding:12px 0 }
    .brand{ display:inline-flex; gap:10px; align-items:center; font-weight:800; letter-spacing:.4px }
    .brand img{ width:26px; height:26px; border-radius:50% }
    .btn{ display:inline-flex; align-items:center; justify-content:center;
      padding: var(--btn-py) var(--btn-px); border-radius:999px; font-weight:800; font-size:var(--btn-fz);
      border:1px solid var(--border); background: rgba(255,255,255,.02);
      color:var(--text); cursor:pointer; transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .btn:hover{ transform: translateY(-1px); border-color: var(--cyan); box-shadow: 0 10px 24px rgba(15,240,252,.18) }
    .btn:focus-visible{ outline:none; box-shadow: 0 0 0 3px rgba(142,235,255,.35) }
    .btn.primary{ border: none; color:#0B0B0B; background: linear-gradient(90deg, var(--magenta), var(--orange));
      box-shadow: 0 10px 24px rgba(255,154,60,.28) }
    .btn.primary:hover{ filter: brightness(1.06) }
    .hero{ position:relative; min-height:100svh; display:grid; place-items:center; overflow:hidden }
    .hero-inner{ position:relative; z-index:1; text-align:center; padding: var(--space-lg) 0 var(--space-sm) }
    .hero h1{ margin:0 0 10px; font-size: clamp(40px, 7vw, 92px); line-height:1.02; text-transform:uppercase; letter-spacing:1.2px }
    .hero p{ margin:0 0 var(--space-md); font-size: clamp(18px, 2.2vw, 22px); color: var(--muted) }
    .scroll-cue{ position:absolute; bottom:16px; left:50%; transform:translateX(-50%); font-size:12px; letter-spacing:2px; text-transform:uppercase; color:var(--muted2) }
    #heroFx{ position:absolute; inset:0; width:100%; height:100%; pointer-events:none; opacity: var(--fx-opacity); mix-blend-mode: var(--fx-mix) }
    section.band{ padding: var(--space-xl) 0; position:relative }
    .band .band-bg{ position:absolute; inset:0; pointer-events:none; z-index:0; background: radial-gradient(900px 600px at 85% 20%, rgba(15,240,252,.10), transparent 60%); opacity:.6; will-change: transform }
    :root[data-theme="light"] .band .band-bg{ background: radial-gradient(900px 600px at 85% 20%, rgba(6,182,212,.18), transparent 60%); opacity:.5 }
    .band .content{ position:relative; z-index:1 }
    .feature{ display:grid; gap:24px }
    @media(min-width: 980px){ .feature{ grid-template-columns: 1.1fr 1fr; align-items:center } }
    .lede{ max-width: 62ch }
    .lede .sec-title{ display:inline-flex; align-items:center; gap:8px; color:var(--muted2); text-transform:uppercase; letter-spacing:2px; font-size:12px; margin-bottom:8px }
    .lede .sec-title img{ width:20px; height:20px }
    .media{ position:relative; border:1px solid var(--border); border-radius:20px; overflow:hidden; background: linear-gradient(120deg, rgba(255,255,255,.04), rgba(255,255,255,.01)); box-shadow: var(--shadow); aspect-ratio: 16/9 }
    :root[data-theme="light"] .media{ background:#fff }
    .montage{ position:absolute; inset:0 }
    .frame{ position:absolute; inset:0; display:grid; grid-template-rows:auto 1fr auto; padding:18px; transition: opacity 1s ease-in-out; color: var(--text); background: linear-gradient(135deg, rgba(15,240,252,.18), transparent 60%) }
    .frame.f2{ background: linear-gradient(135deg, rgba(255,154,60,.18), transparent 60%) }
    .frame.f3{ background: linear-gradient(135deg, rgba(255,94,135,.18), transparent 60%) }
    .frame.hidden{ opacity:0; pointer-events:none }
    .chrome{ display:flex; gap:6px; align-items:center }
    .dot{ width:8px; height:8px; border-radius:50% }
    .r{ background:#FF5E57 } .y{ background:#FFB35C } .g{ background:#28C840 }
    .ftitle{ font-weight:800; margin-top:8px }
    .ftags{ align-self:center; display:flex; flex-wrap:wrap; gap:8px; color:var(--muted) }
    .tag{ display:inline-flex; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background: rgba(255,255,255,.06); font-size:12px }
    :root[data-theme="light"] .tag{ background:#fff }
    .montage-ctrl{ position:absolute; right:10px; top:10px; z-index:2; background: rgba(0,0,0,.35); color:#fff; border:1px solid var(--border); border-radius:999px; padding:6px 10px; font-size:12px; cursor:pointer }
    :root[data-theme="light"] .montage-ctrl{ background: rgba(255,255,255,.8); color:#0B1220 }
    .timeline-wrap{ position:relative }
    .timeline{ display:grid; grid-auto-flow: column; grid-auto-columns: 88%; gap:14px; overflow-x:auto; scroll-snap-type:x mandatory; padding-bottom:6px; -webkit-overflow-scrolling: touch }
    @media(min-width:880px){ .timeline{ grid-auto-columns: 1fr } }
    .card{ scroll-snap-align:center; border:1px dashed var(--border); border-radius:16px; padding:18px; background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)) }
    :root[data-theme="light"] .card{ background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.86)) }
    .label{ color:var(--muted2); font-size:12px; letter-spacing:1.6px; text-transform:uppercase }
    .title{ font-weight:800; margin:6px 0 }
    .body{ color:var(--muted) }
    .navbtn{ position:absolute; top:50%; transform: translateY(-50%); border:none; background: rgba(255,255,255,.08); border:1px solid var(--border); color:var(--text); border-radius:999px; width:42px; height:42px; cursor:pointer; display:grid; place-items:center; box-shadow: var(--shadow) }
    .navbtn:hover{ border-color:var(--cyan) }
    .prev{ left:-6px } .next{ right:-6px }
    .chips{ display:flex; flex-wrap:wrap; gap:10px }
    .chip{ display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:999px; border:1px solid var(--border); background: rgba(255,255,255,.05); color:var(--text); text-decoration:none; box-shadow: inset 0 -1px 0 rgba(255,255,255,.06) }
    .chip:hover{ border-color:var(--cyan); transform: translateY(-1px) }
    .chip .blip{ width:14px; height:14px; display:inline-grid; place-items:center }
    .chip .ico{ width:14px; height:14px }
    .carousel{ position:relative; overflow:hidden; border:1px solid var(--border); border-radius:20px; aspect-ratio: 16/9; box-shadow: var(--shadow) }
    .slides{ display:flex; width:300%; height:100%; transition: transform .6s ease }
    .slide{ flex:1 0 100%; background-size: cover; background-position:center; }
    .slide.s1{ background-image: url('assets/slide1.svg') }
    .slide.s2{ background-image: url('assets/slide2.svg') }
    .slide.s3{ background-image: url('assets/slide3.svg') }
    .dots{ position:absolute; bottom:10px; left:50%; transform:translateX(-50%); display:flex; gap:8px }
    .dotbtn{ width:10px; height:10px; border-radius:50%; border:1px solid var(--border); background: rgba(255,255,255,.08) }
    .dotbtn.active{ background: var(--cyan); border-color: var(--cyan) }
    .car-nav{ position:absolute; top:50%; transform:translateY(-50%); width:40px; height:40px; border:1px solid var(--border); background: rgba(0,0,0,.25); color:#fff; border-radius:999px; display:grid; place-items:center; cursor:pointer }
    :root[data-theme="light"] .car-nav{ background: rgba(255,255,255,.8); color:#0B1220 }
    .car-prev{ left:8px } .car-next{ right:8px }
    .fact{ border:1px solid var(--border); border-radius:16px; padding: clamp(14px,2.2vw,20px); background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.015)); box-shadow: var(--shadow) }
    :root[data-theme="light"] .fact{ background: linear-gradient(180deg, #fff, rgba(255,255,255,.96)) }
    .cta{ display:grid; gap:12px; align-items:center }
    @media(min-width:880px){ .cta{ grid-template-columns:1.4fr auto } }
    footer{ padding: var(--space-lg) 0; color: var(--muted2); font-size: 14px; text-align:center }
    .drawer{ position: fixed; left:0; right:0; bottom:0; transform: translateY(105%); background: var(--card); color: var(--text); border-top:1px solid var(--border); box-shadow: 0 -18px 50px rgba(0,0,0,.35); z-index: 30; transition: transform .35s ease }
    :root[data-theme="light"] .drawer{ background:#fff }
    .drawer.open{ transform: translateY(0) }
    .drawer .wrap{ width:min(92vw, 780px); margin: 0 auto; padding: 16px 0 22px }
    .drawer header{ display:flex; align-items:center; justify-content:space-between; padding: 6px 0 14px; border-bottom:1px solid var(--border) }
    .drawer h3{ margin:0; font-size: 22px }
    .field{ display:grid; gap:8px; margin-bottom:12px }
    .row{ display:grid; gap:12px; grid-template-columns:1fr }
    @media(min-width:680px){ .row{ grid-template-columns:1fr 1fr } }
    input, textarea{ width:100%; padding:12px; border-radius:10px; border:1px solid var(--border); background: var(--card2); color:var(--text); outline: none; font: inherit }
    :root[data-theme="light"] input, :root[data-theme="light"] textarea{ background:#fff }
    input:focus, textarea:focus{ border-color: var(--focus); box-shadow: 0 0 0 3px rgba(142,235,255,.35) }
    textarea{ min-height: 120px; resize: vertical }
    .err{ color:#FFD3CF; font-size:13px; min-height:1.2em }
    .actions{ display:flex; gap:10px; justify-content:flex-end }
    .sec-title img.ico{ width:18px; height:18px }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="assets/logo.svg" alt="CG logo" />
        <span>Chris Goff</span>
      </div>
      <div style="display:flex; gap:8px; align-items:center">
        <button id="openContact" class="btn">Letâ€™s Connect</button>
        <button id="themeToggle" class="btn" aria-pressed="false" title="Toggle theme">ðŸŒ™ Dark</button>
      </div>
    </div>
  </header>

  <main id="main-content">
    <section class="hero" aria-label="Hero">
      <canvas id="heroFx" aria-hidden="true"></canvas>
      <div class="hero-inner container">
        <h1>The Age of Intelligence</h1>
        <p>Unlock the transformative power of AI, generative technology, and intelligent agents.</p>
        <div style="display:flex; gap:12px; justify-content:center">
          <button class="btn primary" id="openContact2">Start the Conversation</button>
        </div>
      </div>
      <div class="scroll-cue" aria-hidden="true">Scroll</div>
    </section>

    <section class="band" aria-label="Inspiration">
      <div class="band-bg" aria-hidden="true"></div>
      <div class="content container">
        <div class="feature">
          <div class="lede">
            <div class="sec-title"><img class="ico" src="assets/icons/in-motion.svg" alt="" /> In Motion</div>
            <h2 style="margin:0 0 8px; font-size: clamp(28px,3.2vw,42px)">Intelligence, illuminated</h2>
            <p style="margin:0 0 10px; color:var(--muted)">AI isnâ€™t a distant horizon â€” itâ€™s the current that runs through how we learn, create, and work. This is a space for early adopters who like to build before itâ€™s obvious.</p>
          </div>
          <div class="media">
            <button class="montage-ctrl" id="montageToggle" aria-pressed="true" aria-label="Pause montage">Pause</button>
            <div class="montage" id="montage">
              <div class="frame f1">
                <div class="chrome"><span class="dot r"></span><span class="dot y"></span><span class="dot g"></span></div>
                <div class="ftags"><span class="ftitle">Study Guide App</span><span class="tag">Flashcards</span><span class="tag">Quizzes</span><span class="tag">Progress</span></div>
              </div>
              <div class="frame f2 hidden">
                <div class="chrome"><span class="dot r"></span><span class="dot y"></span><span class="dot g"></span></div>
                <div class="ftags"><span class="ftitle">AI Chatbot</span><span class="tag">Natural language</span><span class="tag">Context</span><span class="tag">Actions</span></div>
              </div>
              <div class="frame f3 hidden">
                <div class="chrome"><span class="dot r"></span><span class="dot y"></span><span class="dot g"></span></div>
                <div class="ftags"><span class="ftitle">Breakout</span><span class="tag">Canvas</span><span class="tag">Physics</span><span class="tag">Powerâ€‘ups</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="band" aria-label="The Agentic Shift">
      <div class="content container">
        <div style="text-align:center; margin-bottom: var(--space-md)">
          <div class="sec-title" style="justify-content:center"><img class="ico" src="assets/icons/the-shift.svg" alt="" /> The Shift</div>
          <h2 style="margin:0 0 8px; font-size: clamp(28px,3.2vw,42px)">From past to agentic</h2>
          <p style="margin:0; color:var(--muted)">A compact view of where weâ€™ve been â€” and where weâ€™re going next.</p>
        </div>
        <div class="timeline-wrap">
          <button class="navbtn prev" aria-label="Previous section" id="tlPrev">â€¹</button>
          <div class="timeline" id="timeline" aria-label="AI evolution timeline" tabindex="0">
            <div class="card"><div class="label">Past</div><div class="title">Traditional AI</div><div class="body">Ruleâ€‘based systems and narrow models designed for specific tasks at predictable scale.</div></div>
            <div class="card"><div class="label">Present</div><div class="title">Generative AI</div><div class="body">Large models create text, images, and insights; copilots accelerate analysis and creation.</div></div>
            <div class="card"><div class="label">Next</div><div class="title">Agentic AI</div><div class="body">Autonomous teams plan, call tools, and execute workflows endâ€‘toâ€‘end with oversight.</div></div>
          </div>
          <button class="navbtn next" aria-label="Next section" id="tlNext">â€º</button>
        </div>
      </div>
    </section>

    <section class="band" aria-label="Shared Vision">
      <div class="band-bg" aria-hidden="true"></div>
      <div class="content container">
        <div class="feature">
          <div class="lede">
            <div class="sec-title"><img class="ico" src="assets/icons/shared-vision.svg" alt="" /> Shared Vision</div>
            <h2 style="margin:0 0 8px; font-size: clamp(28px,3.2vw,42px)">Connect. Explore. Build.</h2>
            <p style="margin:0 0 12px">Exploring practical AI use cases with likeâ€‘minded hobbyists.</p>
            <div class="chips" style="margin-top:8px">
              <a class="chip" href="https://quiz.chrisgoff.com" target="_blank" rel="noopener"><span class="blip"><img class="ico" src="assets/icons/study-guide.svg" alt="" /></span>Study Guide App</a>
              <a class="chip" href="https://www.chrisgoff.com/chatbot.html" target="_blank" rel="noopener"><span class="blip"><img class="ico" src="assets/icons/chatbot.svg" alt="" /></span>AI Chatbot</a>
              <a class="chip" href="https://www.chrisgoff.com/breakout.html" target="_blank" rel="noopener"><span class="blip"><img class="ico" src="assets/icons/breakout.svg" alt="" /></span>Breakout</a>
            </div>
          </div>
          <div class="media">
            <div class="carousel" id="carousel" aria-roledescription="carousel" aria-label="Concept visuals">
              <button class="car-nav car-prev" id="carPrev" aria-label="Previous">â€¹</button>
              <div class="slides" id="slides">
                <div class="slide s1" role="group" aria-roledescription="slide" aria-label="1 of 3"></div>
                <div class="slide s2" role="group" aria-roledescription="slide" aria-label="2 of 3"></div>
                <div class="slide s3" role="group" aria-roledescription="slide" aria-label="3 of 3"></div>
              </div>
              <button class="car-nav car-next" id="carNext" aria-label="Next">â€º</button>
              <div class="dots" aria-hidden="true">
                <button class="dotbtn active" data-index="0"></button>
                <button class="dotbtn" data-index="1"></button>
                <button class="dotbtn" data-index="2"></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="band" aria-label="Did you know">
      <div class="content container">
        <article class="fact">
          <h3 style="margin:0 0 8px">Did you know?</h3>
          <p style="margin:0">Every revolutionary tool starts as someoneâ€™s experiment. The best time to learn what AI can do is before everyone else does it the same way.</p>
        </article>
      </div>
    </section>

    <section class="band" aria-label="Call to action">
      <div class="content container">
        <div class="cta">
          <div>
            <div class="sec-title"><img class="ico" src="assets/icons/lets-talk.svg" alt="" /> Letâ€™s Talk</div>
            <h2 style="margin:0 0 8px; font-size: clamp(28px,3.2vw,42px)">Start the conversation</h2>
            <p style="margin:0">Whether youâ€™re experimenting, building, or just tinkering, Iâ€™d love to connect.</p>
          </div>
          <div>
            <button class="btn primary" id="openContact3">Start the Conversation</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer><div class="container">Â© <span id="year"></span> Chris Goff. All rights reserved.</div></footer>

  <aside id="contactDrawer" class="drawer" aria-hidden="true" aria-labelledby="contactTitle" role="dialog">
    <div class="wrap">
      <header><h3 id="contactTitle">Letâ€™s Connect</h3><div style="display:flex; gap:8px"><button id="closeContact" class="btn">Close</button></div></header>
      <form id="contactForm" method="POST" novalidate>
        <input type="text" name="_gotcha" tabindex="-1" autocomplete="off" style="position:absolute; left:-9999px; height:0; width:0; opacity:0;" />
        <div class="row">
          <div class="field"><label for="name">Name</label><input id="name" name="name" autocomplete="name" required placeholder="Jane Doe" /><div class="err" id="err-name" aria-live="polite"></div></div>
          <div class="field"><label for="email">Email</label><input id="email" name="email" type="email" autocomplete="email" required placeholder="you@example.com" /><div class="err" id="err-email" aria-live="polite"></div></div>
        </div>
        <div class="field"><label for="message">Message</label><textarea id="message" name="message" required placeholder="Tell me about your AI ideas and use casesâ€¦"></textarea><div class="err" id="err-message" aria-live="polite"></div></div>
        <div class="actions"><button type="button" class="btn" id="closeContact2">Cancel</button><button type="submit" class="btn primary">Send</button></div>
      </form>
    </div>
  </aside>

  <script>
    const FORM_ENDPOINT = "https://formspree.io/f/xpwlbkzw";
    const EMAIL_TO = "chris@chrisgoff.com";
    document.getElementById("year").textContent = new Date().getFullYear();

    // Theme
    const root = document.documentElement;
    const themeToggle = document.getElementById("themeToggle");
    const storedTheme = localStorage.getItem("cg-theme");
    const systemDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
    let theme = storedTheme || (systemDark ? "dark" : "light");
    function applyTheme(t){
      theme = t;
      root.setAttribute("data-theme", t);
      localStorage.setItem("cg-theme", t);
      themeToggle.textContent = t === "dark" ? "ðŸŒ™ Dark" : "â˜€ï¸ Light";
      themeToggle.setAttribute("aria-pressed", t === "dark");
      if (window.fxSetTheme) window.fxSetTheme(t);
    }
    themeToggle.addEventListener("click", ()=> applyTheme(theme === "dark" ? "light" : "dark"));
    applyTheme(theme);

    // Parallax background
    (function(){
      const bgs = document.querySelectorAll('.band .band-bg');
      function onScroll(){
        const y = window.scrollY || window.pageYOffset;
        bgs.forEach((bg, i)=>{ const speed = 0.06 + i*0.01; bg.style.transform = 'translateY(' + (y*speed) + 'px)'; });
      }
      window.addEventListener('scroll', onScroll, { passive:true }); onScroll();
    })();

    // Contact drawer + focus trap
    const drawer = document.getElementById("contactDrawer");
    const openers = [document.getElementById("openContact"), document.getElementById("openContact2"), document.getElementById("openContact3")];
    const closeBtns = [document.getElementById("closeContact"), document.getElementById("closeContact2")];
    let lastFocus = null;
    function trapFocus(e){
      const focusables = drawer.querySelectorAll('a[href], button:not([disabled]), textarea, input, select');
      if(!focusables.length) return;
      const first = focusables[0], last = focusables[focusables.length-1];
      if(e.key === "Tab"){
        if(e.shiftKey && document.activeElement === first){ last.focus(); e.preventDefault(); }
        else if(!e.shiftKey && document.activeElement === last){ first.focus(); e.preventDefault(); }
      }
      if(e.key === "Escape"){ closeDrawer(); }
    }
    function openDrawer(){ lastFocus = document.activeElement; drawer.classList.add("open"); drawer.setAttribute("aria-hidden","false"); setTimeout(()=>{ const name = document.getElementById("name"); if(name) name.focus(); }, 50); document.addEventListener("keydown", trapFocus); }
    function closeDrawer(){ drawer.classList.remove("open"); drawer.setAttribute("aria-hidden","true"); document.removeEventListener("keydown", trapFocus); if(lastFocus) lastFocus.focus(); }
    openers.forEach(el => el && el.addEventListener("click", openDrawer));
    closeBtns.forEach(el => el && el.addEventListener("click", closeDrawer));
    document.addEventListener("keydown", (e)=>{ if(e.key === "Escape" && drawer.classList.contains("open")) closeDrawer(); });

    // Formspree
    const form = document.getElementById("contactForm");
    form.addEventListener("submit", async (e)=>{
      e.preventDefault();
      ["name","email","message"].forEach(id => document.getElementById("err-"+id).textContent = "");
      const nameEl = document.getElementById("name");
      const emailEl = document.getElementById("email");
      const msgEl = document.getElementById("message");
      const name = nameEl.value.trim(); const email = emailEl.value.trim(); const message = msgEl.value.trim();
      let ok = true;
      if(!name){ document.getElementById("err-name").textContent = "Please enter your name."; ok=false; }
      if(!emailEl.checkValidity()){ document.getElementById("err-email").textContent = "Please enter a valid email address."; ok=false; }
      if(!message){ document.getElementById("err-message").textContent = "Please enter a message."; ok=false; }
      if(!ok) return;
      try{
        const res = await fetch(FORM_ENDPOINT, { method:"POST", headers:{ "Accept":"application/json", "Content-Type":"application/json" }, body: JSON.stringify({ name, email, message }) });
        if(res.ok){
          const wrap = drawer.querySelector(".wrap");
          wrap.innerHTML = `
            <header style="display:flex;align-items:center;justify-content:space-between;padding:6px 0 14px;border-bottom:1px solid var(--border)">
              <h3>Thanks â€” message sent!</h3>
            </header>
            <p style="margin:14px 0">You're part of the conversation now. Iâ€™ll reply soon.</p>
            <div style="display:flex;justify-content:flex-end;margin-top:16px">
              <button class="btn primary" id="closeAfter">Close</button>
            </div>`;
          document.getElementById("closeAfter").addEventListener("click", closeDrawer);
        }else{
          const subject = encodeURIComponent("AI Conversation â€” ChrisGoff.com");
          const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}\n\nâ€” Sent from ChrisGoff.com`);
          window.location.href = `mailto:${EMAIL_TO}?subject=${subject}&body=${body}`;
        }
      }catch(err){
        const subject = encodeURIComponent("AI Conversation â€” ChrisGoff.com");
        const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}\n\nâ€” Sent from ChrisGoff.com`);
        window.location.href = `mailto:${EMAIL_TO}?subject=${subject}&body=${body}`;
      }
    });

    // Montage
    (function(){
      const montage = document.getElementById("montage"); if(!montage) return;
      const frames = montage.querySelectorAll(".frame");
      const toggle = document.getElementById("montageToggle");
      let i = 0; let timer = null; let playing = true;
      const reduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      function show(idx){ frames.forEach((f,k)=> f.classList.toggle("hidden", k!==idx)); }
      function start(){ if(timer || reduce) return; timer = setInterval(()=>{ i=(i+1)%frames.length; show(i); }, 3000); playing = true; toggle.textContent="Pause"; toggle.setAttribute("aria-pressed","true"); toggle.setAttribute("aria-label","Pause montage"); }
      function stop(){ clearInterval(timer); timer=null; playing=false; toggle.textContent="Play"; toggle.setAttribute("aria-pressed","false"); toggle.setAttribute("aria-label","Play montage"); }
      toggle.addEventListener("click", ()=> playing ? stop() : start());
      montage.addEventListener("mouseenter", stop);
      montage.addEventListener("mouseleave", ()=>{ if(!reduce) start(); });
      const io = new IntersectionObserver((entries)=>{ entries.forEach(entry=>{ if(entry.isIntersecting){ if(playing) start(); } else { stop(); } }); }, { threshold: 0.4 });
      io.observe(montage);
      show(0); if(!reduce) start();
    })();

    // Timeline
    (function(){
      const scroller = document.getElementById("timeline"); if(!scroller) return;
      const prev = document.getElementById("tlPrev");
      const next = document.getElementById("tlNext");
      function scrollByCard(dir){
        const card = scroller.querySelector(".card");
        const w = card ? card.getBoundingClientRect().width + 14 : 300;
        scroller.scrollBy({ left: dir * w, behavior:"smooth" });
      }
      prev.addEventListener("click", ()=> scrollByCard(-1));
      next.addEventListener("click", ()=> scrollByCard(1));
      scroller.addEventListener("keydown", (e)=>{
        if(e.key === "ArrowLeft"){ e.preventDefault(); scrollByCard(-1); }
        if(e.key === "ArrowRight"){ e.preventDefault(); scrollByCard(1); }
      });
    })();

    // Carousel
    (function(){
      const wrap = document.getElementById("carousel"); if(!wrap) return;
      const slides = document.getElementById("slides");
      const dots = wrap.querySelectorAll(".dotbtn");
      const prev = document.getElementById("carPrev");
      const next = document.getElementById("carNext");
      let idx = 0; let timer = null;
      function go(i){
        idx = (i + 3) % 3;
        slides.style.transform = "translateX(-"+(idx*100)+"%)";
        dots.forEach((d,k)=> d.classList.toggle("active", k===idx));
      }
      dots.forEach(d=> d.addEventListener("click", ()=> go(parseInt(d.dataset.index,10)) ));
      prev.addEventListener("click", ()=> go(idx-1));
      next.addEventListener("click", ()=> go(idx+1));
      wrap.addEventListener("keydown", (e)=>{
        if(e.key==="ArrowLeft"){ e.preventDefault(); go(idx-1); }
        if(e.key==="ArrowRight"){ e.preventDefault(); go(idx+1); }
      });
      const reduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if(reduce){ go(0); return; }
      wrap.addEventListener("mouseenter", ()=>{ clearInterval(timer); timer=null; });
      wrap.addEventListener("mouseleave", ()=>{ if(!timer) timer=setInterval(()=> go(idx+1), 3500); });
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){ if(!timer) timer=setInterval(()=> go(idx+1), 3500); }
          else { clearInterval(timer); timer=null; }
        });
      }, { threshold: 0.4 });
      io.observe(wrap);
      go(0);
    })();

    // Hero Canvas
    (function(){
      const reduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      const canvas = document.getElementById("heroFx"); if(!canvas || reduce) return;
      const ctx = canvas.getContext("2d");
      let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      const CFG = {
        dark: { color:[15,240,252], lineA:.144, glowB:.336, glowAmp:.216, v:.34, area:26*26, max:220, connect:10, opacity:.6 },
        light:{ color:[6,182,212],  lineA:.15,  glowB:.22,  glowAmp:.16,  v:.30, area:28*28, max:200, connect:12, opacity:.5 }
      };
      let C = CFG[theme] || CFG.dark;
      function setTheme(t){ C = CFG[t] || CFG.dark; canvas.style.setProperty("--fx-opacity", C.opacity); }
      window.fxSetTheme = setTheme;
      let w,h,pts=[],base=0,count=0,last=0,boost=0, running=false, raf=0;
      function resize(){
        const r = canvas.getBoundingClientRect(); w=r.width|0; h=r.height|0;
        canvas.width = (w*dpr)|0; canvas.height = (h*dpr)|0; ctx.setTransform(dpr,0,0,dpr,0,0);
        count = Math.min(C.max, ((w*h)/C.area)|0); base = Math.max(60, Math.min(160, Math.sqrt(w*w+h*h)/C.connect));
        pts = Array.from({length:count}, ()=>({ x:Math.random()*w, y:Math.random()*h,
          vx: (Math.random()*2*C.v - C.v), vy:(Math.random()*2*C.v - C.v),
          r: Math.random()*1.4 + 0.5, pulse: Math.random()*2000 }));
      }
      window.addEventListener("resize", resize);
      window.addEventListener("mousemove", ()=> boost = performance.now() + 3000);
      function step(t){
        if(!running){ return; }
        if(t-last<22){ raf=requestAnimationFrame(step); return } last=t;
        const boosted = t < boost; const vm = boosted ? 1.6 : 1; const th = boosted ? base/0.85 : base;
        ctx.clearRect(0,0,w,h);
        for(let i=0;i<count;i++){
          const p=pts[i]; p.x+=p.vx*vm; p.y+=p.vy*vm;
          if(p.x<-20)p.x=w+20; if(p.x>w+20)p.x=-20; if(p.y<-20)p.y=h+20; if(p.y>h+20)p.y=-20;
          const glow = C.glowB + C.glowAmp * Math.sin((t+p.pulse)/500);
          ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,6.283); ctx.fillStyle = "rgba("+C.color[0]+","+C.color[1]+","+C.color[2]+","+glow+")"; ctx.fill();
          for(let j=i+1;j<count;j++){
            const q=pts[j]; const dx=p.x-q.x, dy=p.y-q.y, dist=Math.hypot(dx,dy);
            if(dist<th){ const a = C.lineA * (1 - dist/th); ctx.strokeStyle = "rgba("+C.color[0]+","+C.color[1]+","+C.color[2]+","+a+")"; ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(q.x,q.y); ctx.stroke(); }
          }
        }
        raf=requestAnimationFrame(step);
      }
      function start(){ if(running) return; running=true; resize(); raf=requestAnimationFrame(step); }
      function stop(){ running=false; cancelAnimationFrame(raf); }
      const io = new IntersectionObserver((entries)=>{ entries.forEach(entry=>{ if(entry.isIntersecting){ start(); } else { stop(); } }); }, { threshold: 0.15 });
      io.observe(canvas);
      setTheme(theme);
    })();
  </script>
</body>
</html>
